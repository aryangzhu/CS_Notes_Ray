# 重新认识MySQL
## 客户端/服务器架构
## MySQL的安装
### bin目录下的可执行文件
## 启动MySQL服务器程序
### UNIX里启动服务器程序
1. mysqld 可以启动一个服务器进程
2. mysqld_safe  启动脚本,间接调用mysqld,顺便启动一个监控线程,在服务器进程挂了的时候，帮助重启。
3. mysql.server 启动脚本,间接调用mysql_safe,在调用mysql.server时在后边指定start参数就可以启动服务器程序。 mysql.server start
4. mysqld_multi 对每一个服务器进程的启动和停止进行监控
## 启动MySQL客户端程序
```shell
mysql -h主机名 -u用户名 -p密码
```
本上是一个进程间通信的过程
## 客户端与服务器连接的过程
### TCP/IP
如果使用TCP/IP网络来连接到服务器进程,就需要在启动客户端程序时在-h后面使用IP地址来作为需要连接的服务器进程所在主机的主机名。
## 服务器处理客户端的请求
# 启动选项和系统变量
## 启动选项和配置文件
### 在命令行上使用选项
例如,启动时禁止使用TCP/IP网络通信。  
```shell
mysql --skip-networking
```
指定启动选项时需要加上--前缀。另外如果选项名是由多个单词构成的,他们之间可以由短划线-连接起来。比如,skip-networking和skip_networking表示的含义是相同的。
还有一个例子是启动时设置表的存储引擎  
书上还强调了一下选项的长形式和短形式,例如--host -h主机名这样式儿的
### 配置文件使用选项
因为启动时命令行选项只在本次起作用,所以放在配置文件中永久生效
#### 配置文件路径
这块对于类unix的路径进行描述
#### 配置文件内容
分组进行配置,各个启动命令也有能读取的组的限制。
注:如果同一个启动选项即出现在命令行中,又出现在配置文件中,那么以命令行的启动选项为准。
# 系统变量
## 简介
在服务器程序运行过程中能对其造成影响的变量。
## 查看系统变量
```shell
show variables like 'default_storage_engine'
```
## 设置系统变量
### 通过启动选项设置
### 服务器运行过程中设置
#### 设置不同作用范围的系统变量
书上提到了两个概念或者说是两个范围,一个是global,另一个是session。
1. GLOBL:全局变量,影响服务器的整体操作  
2. SESSION:会话变量,影响某个客户端连接的操作  
服务器启动时,会将每个全局变量初始化为其默认值。服务器会为每个客户端连接维护一组会话变量,客户端的会话变量在连接时使用相应全局变量的当前值初始化。
如果在设置系统变量的语句中省略了作用范围,**默认的作用范围就是SESSION**(这次的客户端连接)。  
#### 查看不同作用范围的系统变量
同样也是使用show varaibles like 'default_storage_engine'
## 状态变量
为了检测服务器程序的运行情况而存在的变量,由此而知,它们的值是由服务器程序来设置的。
show status like 'thread%'  
状态变量也有global和session两个作用范围。
# 字符集和比较规则
## 字符集和比较规则介绍
### 字符集简介
将二进制数据转换为字符所用的这套转换规则就是字符集
### 比较规则简介
a-0x01 b-0x02   
上面的字符如果以二进制数据自身的比较规则来进行比较的话,那么大多数时候是不符合场景需求的。  
'a'和'A'进行比较时:
1. 将两个大小写不同的字符全部转换为大写或者小写  
2. 再比较这两个字符对应的二进制数据。
## 字符集和比较规则的应用
### 各级别的字符集和比较规则
### 客户端和服务器通信过程中使用的字符集
### 比较规则的应用
## 总结
1. 字符集
2. 比较规则
3. 在MySQL中,一个字符集可以有若干种比较规则,其中有一个默认的比较规则,一个比较规则必须对应一个字符集
4. 查看MySQL支持的字符集和比较规则语句:
show (charcter set|charset)[like 匹配的模式]  
show collation [like 匹配的模式]  
5. MySQL有四个级别的字符集和比较规则
   + 1 服务器级别
   + 2 数据库级别
   + 3 表级别
   + 4 列级别
---
6. 从发送请求到接收结果过程中发生的字符集转换
7. 比较规则的作用通常体现在比较字符串大小的表达式和对某个字符串进行排序中